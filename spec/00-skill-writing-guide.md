# Skill 编写指南

**Skill = AI 的行为边界 + 决策框架**，不是文档，不是教程。

---

## 一、需求挖掘：三轮提问

### 第一轮：5 Why（表层→本质）

| 问题 | 挖什么 |
|-----|-------|
| 你想让 AI 帮你做什么？ | 表层需求 |
| 为什么要做这个？ | 业务动机 |
| 现在怎么解决的？痛点在哪？ | 现状分析 |
| 做好了什么变了？怎么衡量？ | 成功标准 |
| 什么情况下不该用？ | 边界雏形 |

### 第二轮：场景还原

让客户描述一个**具体场景**：
- 谁在用？（角色）
- 什么时候触发？（时机）
- 输入什么？（上下文）
- 期望输出什么？（交付物）
- 最怕出什么错？（风险）

### 第三轮：边界探测

- 这个 skill **绝对不能做什么**？→ NEVER
- 哪些情况**必须人工介入**？→ 安全边界
- 和其他 skill/流程**怎么衔接**？→ 系统边界

---

## 二、边界确定：四个维度

边界是 skill 最重要的部分。从四个维度定义：

### 1. 能力边界
```
能做什么？             不能做什么？
─────────────────────────────────
查询数据               修改/删除数据
生成 SQL               直接执行 SQL
分析 schema            修改 schema
```

### 2. 安全边界
```
什么操作需要人工确认？
- DELETE / DROP 语句
- 涉及 PII 的查询
- 生产环境操作
```

### 3. 质量边界
```
什么情况下拒绝执行？
- 需求不明确时
- 无法验证结果时
- 超出能力范围时
```

### 4. 系统边界
```
和其他流程的接口：
- 上游：谁触发这个 skill？输入格式是什么？
- 下游：输出给谁？格式要求是什么？
- 并行：和哪些 skill 可能冲突？
```

---

## 三、写作框架：五层结构

```markdown
---
name: skill-name
description: [一句话：干什么 + 什么时候用]
---

# 标题
[一句话核心目标]

## 思维层
做之前想什么？[3-5个问题]
**CRITICAL**: [最重要的原则]

## 能力层（可选）
[精简列举，不超过3行]

## 执行层
[步骤 + 关键命令 + 一个模板]

## NEVER
- [禁止事项，5条以内]

---
**IMPORTANT**: [一句话价值观]
```

### 各层写法要点

| 层 | 写什么 | 不写什么 |
|---|-------|---------|
| 思维层 | 决策问题 | 知识解释 |
| 能力层 | 边界范围 | 详细列表 |
| 执行层 | 关键命令+一个模板 | 多种技术栈示例 |
| NEVER | 最危险的错误 | 显而易见的事 |

---

## 四、边界写法示例

**模糊的边界**（不好）：
```
注意安全，不要做危险操作
```

**清晰的边界**（好）：
```
## NEVER
- 不执行 DELETE/DROP 语句，只生成并展示
- 不查询包含 password/token/secret 的字段
- 不连接生产数据库，除非用户明确指定
- 不假设表结构，先用 describe 确认
```

**判断标准**：读完 NEVER，能否画出一条清晰的线，线内可做，线外不可做？

---

## 五、质量检验：五问自检

| 问题 | 通过标准 |
|-----|---------|
| 触发清晰？ | 读 description 就知道该不该用 |
| 决策有据？ | 每个分支有明确条件，无"看情况" |
| 边界够硬？ | NEVER 能防住最危险的错误 |
| 能删减？ | 删任何一段效果会下降 |
| 价值观对？ | IMPORTANT 能指导模糊情况 |

---

## 六、反模式

| 错 | 为什么错 | 改 |
|---|---------|---|
| 大量示例代码 | 占 token | 一个模板够了 |
| 多技术栈各一个模板 | 冗余 | 用决策矩阵 |
| 详细检查清单 | 太长被忽略 | 合并成问题链 |
| 解释设计原因 | 给人看的 | 直接给规则 |

---

## 七、终极检验：30秒电梯测试

> "这个 skill 让 AI 在 [场景] 下，通过 [方法]，产出 [结果]，绝对不会 [风险]。"

说不清楚？回去重新提炼。

---

## 八、哲学支撑

实操背后的思维原理：

| 原理 | 应用 |
|-----|------|
| **第一性原理** | 从问题本质出发，不抄模板 |
| **奥卡姆剃刀** | 每行都问"删掉会怎样"，能删就删 |
| **MECE** | 流程步骤不重叠、不遗漏 |
| **控制论** | Skill = 输入→处理→输出→反馈(NEVER) |

**一句话**：你不是在写文档，是在设计一个**决策系统**。好的 skill，用最少的字传递最关键的判断力。
