# 提示词管理方法论

> 大模型上下文有限，如何让 AI 持续记住你的规范和偏好？

---

## 一、核心问题：上下文的遗忘困境

大模型有一个根本性限制：**上下文窗口有限**。

这意味着：
- **会话结束即遗忘** - 上一次对话中说好的规范，下次全忘
- **长对话会丢失** - 对话太长，早期的约定被挤出窗口
- **每次都要重复** - 同样的偏好和规范，每次都要重新说明

**结果**：你花了很多时间调教 AI，但每次新对话都要从零开始。

---

## 二、解决思路：持久化的提示词管理

既然上下文会丢失，那就把重要的内容**持久化**：

```
临时对话 → 丢失
    ↓
持久化文件 → 每次自动加载 → 始终生效
```

**核心思想**：把你的规范、偏好、工作流程写成文件，让 AI 每次启动时自动读取。

---

## 三、行业演进：从 Rules 到 Skills

各大 Vibe Coding 工具都在解决这个问题，逐步演进出了不同的方案：

### 阶段 1：Rules（规则文件）

**代表**：Cursor 的 `.cursorrules`、Windsurf 的 `global_rules.md`

**定位**：告诉 AI「你是谁」和「你要遵守什么」

**内容**：
- 代码风格偏好
- 命名规范
- 禁止的行为
- 项目上下文

**局限**：
- 只能定义规则，不能定义流程
- 缺乏结构化，内容混杂
- 难以复用和分享

### 阶段 2：Agents/Personas（角色定义）

**代表**：Claude 的 `CLAUDE.md`

**定位**：定义 AI 的角色和行为模式

**内容**：
- 角色定义（你是一个什么样的助手）
- 沟通风格
- 工作流程偏好

**进步**：
- 更结构化
- 可以定义角色切换

**局限**：
- 仍然是单一文件
- 不支持模块化

### 阶段 3：Skills（技能模块）

**代表**：Claude Code 的 Skills 系统

**定位**：可复用的提示词模块，支持触发条件和执行流程

**内容**：
- 核心定义（SKILL.md）
- 可执行脚本（scripts/）
- 参考文档（references/）
- 资源模板（assets/）

**优势**：
- 模块化，可独立开发和测试
- 可复用，团队共享
- 可组合，多个 Skills 协同工作
- 支持执行流程，不只是规则

---

## 四、Skills 解决了什么问题？

| 痛点 | Skills 的解决方案 |
|------|-------------------|
| 规范每次都要重复说 | 写成 SKILL.md，自动加载 |
| 复杂流程难以描述 | 定义执行步骤和触发条件 |
| 团队规范不统一 | 共享 Skills，统一标准 |
| 经验无法传承 | Skills 可版本管理、可分享 |
| AI 不理解领域知识 | references/ 提供专业文档 |
| 输出格式不一致 | assets/ 提供模板 |

---

## 五、提示词管理的三层架构

```
┌─────────────────────────────────────────────────────┐
│                    全局层                            │
│  global_rules.md / CLAUDE.md                        │
│  适用于所有项目的通用规范                            │
└─────────────────────────────────────────────────────┘
                         ↓
┌─────────────────────────────────────────────────────┐
│                    项目层                            │
│  .claude/skills/ 或 .cursorrules                    │
│  适用于当前项目的特定规范                            │
└─────────────────────────────────────────────────────┘
                         ↓
┌─────────────────────────────────────────────────────┐
│                    会话层                            │
│  当前对话中的临时指令                                │
│  只在本次会话生效                                    │
└─────────────────────────────────────────────────────┘
```

**优先级**：会话层 > 项目层 > 全局层

---

## 六、如何开始？

### 快速入门路径

```
1. 了解心智模型     → 00-ai-coding-mental-model.md
2. 快速安装使用     → 02-plugins-marketplace.md
3. 学习 Skills 基础 → 03-skills-basics.md
4. 深入架构设计     → 04-skills-architecture.md
5. 动手开发 Skill   → 05-skills-development.md
```

### 推荐顺序

| 阶段 | 目标 | 文档 |
|------|------|------|
| **先用起来** | 安装现成的 Plugins/Skills | 02-plugins-marketplace |
| **理解原理** | 学习 Skills 的组成和设计 | 03/04 |
| **动手创造** | 开发自己的 Skills | 05 |

---

## 七、一句话总结

**提示词管理** = 把临时对话中的规范和偏好，沉淀成持久化的文件，让 AI 每次都能记住。

演进路径：**Rules → Agents → Skills**

核心价值：**可复用、可分享、可版本管理**
