# 快速挖掘 Skills 的 SOP

## 挖掘流程概览

```
识别机会 → 提炼模式 → 结构化定义 → 验证测试 → 迭代优化
```

## Step 1: 识别机会

### 信号识别

观察日常工作中的这些信号：

| 信号 | 说明 | Skill 潜力 |
|------|------|-----------|
| 重复操作 | 类似任务反复执行 | 高 |
| 模式化输出 | 输出格式固定 | 高 |
| 多步流程 | 需要按固定步骤执行 | 中-高 |
| 专业知识 | 需要领域专业知识 | 中 |
| 容易出错 | 人工操作易错 | 中 |

### 快速识别问题

问自己：
1. 这个任务我做过几次了？
2. 每次我都要重复说明什么？
3. 输出格式是否基本固定？
4. 是否有固定的执行步骤？

**如果以上问题有 2 个以上回答"是"**，就是一个好的 Skill 机会。

### 记录模板

```markdown
## Skill 机会记录

### 任务名称
[简短描述]

### 触发频率
□ 每天多次  □ 每天一次  □ 每周几次  □ 偶尔

### 当前痛点
- 痛点1
- 痛点2

### 期望效果
- 效果1
- 效果2

### 优先级
□ 高  □ 中  □ 低
```

## Step 2: 提炼模式

### 收集实例

收集 3-5 个相同类型任务的实际案例：

```markdown
## 实例收集

### 实例 1
- 输入：[具体输入]
- 过程：[执行步骤]
- 输出：[具体输出]

### 实例 2
...

### 实例 3
...
```

### 提炼共性

从实例中提取：

```markdown
## 模式提炼

### 输入共性
- 总是需要 [X]
- 可选需要 [Y]
- 格式通常是 [Z]

### 步骤共性
1. 第一步总是 [...]
2. 然后 [...]
3. 最后 [...]

### 输出共性
- 格式：[...]
- 包含：[...]
- 不包含：[...]
```

### 识别变量

```markdown
## 变量识别

### 固定部分
- [不变的元素]

### 可变部分
- 变量1：[取值范围]
- 变量2：[取值范围]
```

## Step 3: 结构化定义

### 使用模板

```markdown
---
name: [skill-name]
version: 0.1.0
description: [一句话描述]
---

# [Skill 名称]

## 触发条件
[何时激活]

## 上下文要求
### 必需
- [item1]
- [item2]

### 可选
- [item1]

## 执行步骤
### Step 1: [步骤名]
[具体操作]

### Step 2: [步骤名]
[具体操作]

## 输出规范
[输出格式和内容]

## 约束条件
- [约束1]
- [约束2]

## 示例
### 输入
[示例输入]

### 输出
[示例输出]
```

## Step 4: 验证测试

### 测试清单

```markdown
□ 标准场景测试通过
□ 边界场景测试通过
□ 错误处理测试通过
□ 输出格式验证通过
□ 与现有 Rules 兼容
```

### 测试用例设计

```markdown
## 测试用例

### TC01: 标准输入
- 输入：[标准测试输入]
- 预期：[预期输出]
- 结果：□ Pass □ Fail

### TC02: 边界输入
- 输入：[边界测试输入]
- 预期：[预期输出或行为]
- 结果：□ Pass □ Fail

### TC03: 异常输入
- 输入：[异常输入]
- 预期：[错误提示]
- 结果：□ Pass □ Fail
```

## Step 5: 迭代优化

### 优化循环

```
使用 → 发现问题 → 分析原因 → 修改 → 验证 → 使用
```

### 版本管理

```markdown
## 更新日志

### v1.1.0 (2024-01-20)
- 新增：支持 [新特性]
- 优化：改进 [优化点]
- 修复：解决 [问题]

### v1.0.0 (2024-01-15)
- 初始版本
```

## 快速挖掘技巧

### 技巧 1: 从对话历史挖掘

回顾与 Claude Code 的对话：
1. 找出重复的请求模式
2. 提取有效的 prompt 结构
3. 整理成 Skill

### 技巧 2: 从错误中学习

每次 AI 输出不符合预期时：
1. 记录期望 vs 实际
2. 分析差距原因
3. 补充到 Skill 约束中

### 技巧 3: 从最佳实践提取

当某次输出特别好时：
1. 保存完整对话
2. 分析成功因素
3. 固化成 Skill

### 技巧 4: 组合已有 Skill

```
Skill A + Skill B → 新 Skill C
```

复用和组合比从零开始更高效。

## 工具推荐

### 用于识别机会
- 对话历史回顾
- 任务日志记录
- 团队反馈收集

### 用于模式提炼
- 思维导图工具
- 文档协作工具
- 对比分析表格

### 用于验证测试
- 测试用例模板
- 对比验证脚本
- 评估打分表

## 总结

**SOP 核心**：
1. **观察** - 在日常工作中发现重复模式
2. **收集** - 积累足够实例
3. **提炼** - 抽象共性，识别变量
4. **定义** - 结构化描述
5. **验证** - 测试确认效果
6. **迭代** - 持续优化

**关键原则**：
- 从小处开始，逐步扩展
- 先求可用，再求完美
- 持续收集反馈，不断改进
